(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{6408:()=>{},6778:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>b});var a=t(6027),n=t(7307);function r(e){let{value:s,isOverheating:t,isEmergency:r}=e,[l,i]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{if(t&&!r){let e=setInterval(()=>{i(e=>!e)},200);return()=>clearInterval(e)}i(!1)},[t,r]),(0,a.jsxs)("div",{className:"temperature-dial ".concat(l?"shake":""),children:[(0,a.jsxs)("div",{className:"dial-background",children:[[0,20,40,60,80,100].map(e=>{let s=e/100*180-90;return(0,a.jsxs)("div",{className:"temperature-marking",style:{transform:"rotate(".concat(s,"deg)")},children:[(0,a.jsx)("div",{className:"marking-line"}),(0,a.jsxs)("div",{className:"marking-text",children:[e,"\xb0"]})]},e)}),(0,a.jsxs)("svg",{className:"absolute inset-0",viewBox:"0 0 100 100",children:[(0,a.jsx)("path",{d:"M50 10 A 40 40 0 0 1 90 50",fill:"none",stroke:"#22c55e",strokeWidth:"8",strokeLinecap:"round"}),(0,a.jsx)("path",{d:"M90 50 A 40 40 0 0 1 70 85",fill:"none",stroke:"#eab308",strokeWidth:"8",strokeLinecap:"round"}),(0,a.jsx)("path",{d:"M70 85 A 40 40 0 0 1 50 90",fill:"none",stroke:"#ef4444",strokeWidth:"8",strokeLinecap:"round"})]}),(0,a.jsx)("div",{className:"temperature-needle",style:{transform:"rotate(".concat(s/100*180-90,"deg)")},children:(0,a.jsx)("div",{className:"needle-cap"})}),(0,a.jsx)("div",{className:"dial-center"})]}),t&&(0,a.jsx)("div",{className:"warning-dot"})]})}function l(e){let{value:s,isEmergency:t}=e,n=()=>s<30?"needle-blue":s<70?"needle-green":s<90?"needle-yellow":"needle-red";return(0,a.jsx)("div",{className:"pressure-gauge",children:(0,a.jsxs)("div",{className:"gauge-background",children:[[0,20,40,60,80,100].map(e=>{let s=e/100*270-45;return(0,a.jsxs)("div",{className:"pressure-marking",style:{transform:"rotate(".concat(s,"deg)")},children:[(0,a.jsx)("div",{className:"marking-line"}),(0,a.jsx)("div",{className:"marking-text",style:{transform:"rotate(".concat(-s,"deg)")},children:e})]},e)}),(0,a.jsx)("div",{className:"pressure-needle ".concat(n()),style:{transform:"rotate(".concat(s/100*270-45,"deg)")},children:(0,a.jsx)("div",{className:"needle-cap ".concat(n())})}),(0,a.jsx)("div",{className:"dial-center"}),t&&(0,a.jsx)("div",{className:"emergency-overlay"})]})})}function i(e){let{isActive:s,message:t}=e;return s?(0,a.jsxs)("div",{className:"warning-indicator",children:[(0,a.jsx)("div",{className:"warning-dot"}),(0,a.jsx)("div",{className:"warning-text",children:t})]}):null}var c=t(4808),o=t(50),d=t(6011);function m(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,d.QP)((0,o.$)(s))}let u=n.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,a.jsxs)(c.bL,{ref:s,className:m("relative flex w-full touch-none select-none items-center",t),...n,children:[(0,a.jsx)(c.CC,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:(0,a.jsx)(c.Q6,{className:"absolute h-full bg-primary"})}),(0,a.jsx)(c.zi,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]})});u.displayName=c.bL.displayName;var v=t(123);let h=n.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,a.jsx)(v.bL,{className:m("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...n,ref:s,children:(0,a.jsx)(v.zi,{className:m("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})})});function p(e){let{temperature:s,setTemperature:t,pressure:r,setPressure:l,isEmergency:i}=e,[c,o]=(0,n.useState)(!0),[d,m]=(0,n.useState)(!0);return(0,a.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"control-row",children:[(0,a.jsx)("label",{className:"control-label",children:"HEATING ELEMENT"}),(0,a.jsx)(h,{checked:c,onCheckedChange:o,disabled:i,className:"data-[state=checked]:bg-yellow-600"})]}),(0,a.jsxs)("div",{className:"control-row",children:[(0,a.jsx)("label",{className:"control-label",children:"COOLING SYSTEM"}),(0,a.jsx)(h,{checked:d,onCheckedChange:m,disabled:i,className:"data-[state=checked]:bg-blue-600"})]})]}),(0,a.jsxs)("div",{className:"slider-container",children:[(0,a.jsxs)("div",{className:"slider-header",children:[(0,a.jsx)("label",{className:"control-label",children:"TEMPERATURE"}),(0,a.jsxs)("span",{className:"slider-value",children:[s,"\xb0C"]})]}),(0,a.jsx)(u,{value:[s],min:0,max:100,step:1,onValueChange:e=>{i||t(e[0])},disabled:i||!c&&!d,className:i?"opacity-50":""}),(0,a.jsxs)("div",{className:"slider-ticks",children:[(0,a.jsx)("span",{children:"0\xb0C"}),(0,a.jsx)("span",{children:"50\xb0C"}),(0,a.jsx)("span",{children:"100\xb0C"})]})]}),(0,a.jsxs)("div",{className:"slider-container",children:[(0,a.jsxs)("div",{className:"slider-header",children:[(0,a.jsx)("label",{className:"control-label",children:"PRESSURE"}),(0,a.jsxs)("span",{className:"slider-value",children:[r," PSI"]})]}),(0,a.jsx)(u,{value:[r],min:0,max:100,step:1,onValueChange:e=>{i||l(e[0])},disabled:i,className:i?"opacity-50":""}),(0,a.jsxs)("div",{className:"slider-ticks",children:[(0,a.jsx)("span",{children:"0 PSI"}),(0,a.jsx)("span",{children:"50 PSI"}),(0,a.jsx)("span",{children:"100 PSI"})]})]})]})}function x(e){let{intensity:s,isOverheating:t,isEmergency:r}=e,l=(0,n.useRef)(null),i=(0,n.useRef)([]),c=(0,n.useRef)(0);(0,n.useEffect)(()=>{let e=l.current;if(!e)return;let a=e.getContext("2d");if(!a)return;e.width=e.offsetWidth,e.height=e.offsetHeight,i.current=Array.from({length:20},()=>({x:Math.random()*e.width,y:e.height+20*Math.random(),size:2+6*Math.random(),speed:.5+1.5*Math.random()}));let n=()=>{if(!e||!a)return;a.clearRect(0,0,e.width,e.height),o(a,e.width,e.height,s);let l=Math.floor(s/100*20)+1;i.current.slice(0,l).forEach(n=>{n.y-=n.speed*(s/50),n.y<.3*e.height&&(n.y=e.height+10*Math.random(),n.x=.3*e.width+Math.random()*(.4*e.width),n.size=2+6*Math.random()),a.beginPath(),a.arc(n.x,n.y,n.size,0,2*Math.PI),a.fillStyle=t?"rgba(239, 68, 68, 0.6)":"rgba(59, 130, 246, 0.6)",a.fill()}),t&&!r&&d(a,e.width,e.height),c.current=requestAnimationFrame(n)};return n(),()=>{cancelAnimationFrame(c.current)}},[s,t,r]);let o=(e,s,a,n)=>{let l;let i=.7*s,c=.8*a,o=.3*i,d=.3*c,m=c-d,u=(s-i)/2,v=a-c;e.beginPath(),e.moveTo(u+(i-o)/2,v),e.lineTo(u+(i-o)/2,v+d),e.lineTo(u,v+d+.3*m),e.lineTo(u,v+c),e.lineTo(u+i,v+c),e.lineTo(u+i,v+d+.3*m),e.lineTo(u+(i+o)/2,v+d),e.lineTo(u+(i+o)/2,v),e.closePath(),e.strokeStyle="#71717a",e.lineWidth=2,e.stroke();let h=v+c-(m*n/100+d);e.beginPath(),e.moveTo(u,v+c),e.lineTo(u,v+d+.3*m),e.lineTo(u+(i-o)/2,v+d),h<v+d?(e.lineTo(u+(i-o)/2,h),e.lineTo(u+(i+o)/2,h)):e.lineTo(u+(i-o)/2,v+d),e.lineTo(u+(i+o)/2,v+d),e.lineTo(u+i,v+d+.3*m),e.lineTo(u+i,v+c),e.closePath(),e.fillStyle=r?"rgba(100, 100, 100, 0.7)":t?"rgba(239, 68, 68, ".concat(.5+n/200,")"):n>80?"rgba(234, 179, 8, ".concat(.5+n/200,")"):"rgba(59, 130, 246, ".concat(.5+n/200,")"),e.fill()},d=(e,s,t)=>{let a=s/2,n=.2*t,r=e.createLinearGradient(a,n,a,0);r.addColorStop(0,"rgba(255, 255, 255, 0.7)"),r.addColorStop(1,"rgba(255, 255, 255, 0)");for(let s=0;s<5;s++){let t=10*Math.sin(Date.now()/1e3+s),l=5+3*Math.sin(Date.now()/500+s),i=n-10*s-5*Math.sin(Date.now()/700+s);e.beginPath(),e.arc(a+t,i,l,0,2*Math.PI),e.fillStyle=r,e.fill()}};return(0,a.jsx)("div",{className:"flask-container ".concat(t?"shake":""),children:(0,a.jsx)("canvas",{ref:l,className:"w-full h-full"})})}function g(e){let{onActivate:s}=e,[t,r]=(0,n.useState)(!1);return(0,a.jsxs)("div",{className:"emergency-button-container",children:[(0,a.jsx)("div",{className:"emergency-ping"}),(0,a.jsxs)("button",{onClick:()=>{r(!0),s(),setTimeout(()=>{r(!1)},1e3)},disabled:t,className:"emergency-button ".concat(t?"pressed":""),children:[(0,a.jsx)("div",{className:"button-ripple",children:(0,a.jsx)("div",{className:"ripple-effect ".concat(t?"active":"")})}),(0,a.jsxs)("div",{className:"button-content",children:[(0,a.jsx)("div",{className:"button-indicator"}),(0,a.jsx)("span",{className:"button-text",children:"EMERGENCY SHUTDOWN"})]})]})]})}h.displayName=v.bL.displayName;let f={temperature:0,pressure:0,timeLeft:0,emergency:!1,cancelled:!1};t(6408);let N=function(e){for(var s=arguments.length,t=Array(s>1?s-1:0),a=1;a<s;a++)t[a-1]=arguments[a]},j={temperature:{min:65,max:80},pressure:{min:40,max:60}};function b(){var e,s,c,o,d,m,u,v,h,b,E,S,w,T,y,k;let[C,I]=(0,n.useState)(75),[M,R]=(0,n.useState)(42),[A,L]=(0,n.useState)(!1),[P,U]=(0,n.useState)(!1),[O,Z]=(0,n.useState)(0),[F,z]=(0,n.useState)(90),[D,W]=(0,n.useState)(!1),[V,G]=(0,n.useState)(!1),[_,H]=(0,n.useState)(j),{closeUI:Y,completeMinigame:B}=function(){let e=(0,n.useCallback)(function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("window"in t.g&&"fetch"in window)try{fetch("https://drug/".concat(e),{method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify(s)}),console.log('[NUI] Sent "'.concat(e,'" to FiveM:'),s)}catch(e){console.error("[NUI] Error sending message to FiveM:",e)}else console.log('[NUI DEV] Would send "'.concat(e,'" to FiveM:'),s)},[]);(0,n.useEffect)(()=>{let s=e=>{let{data:s}=e;s&&"object"==typeof s&&console.log("[NUI] Received message from FiveM:",s)};return window.addEventListener("message",s),e("uiReady"),()=>{window.removeEventListener("message",s)}},[e]);let s=(0,n.useCallback)(function(){let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={...f,...s,timestamp:Date.now()};console.log("[NUI] Closing UI with data:",t),e("closeUI",t),window.dispatchEvent(new MessageEvent("message",{data:{type:"closeUI",...t}}))},[e]),a=(0,n.useCallback)(function(s,t,a){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],l={success:s,temperature:t,pressure:a,timeLeft:n,emergency:r,timestamp:Date.now()};console.log("[NUI] Completing minigame:",l),e("minigameComplete",l)},[e]);return{sendMessage:e,closeUI:s,completeMinigame:a}}();return((0,n.useEffect)(()=>(N("Mount","Component mounted"),()=>N("Unmount","Component unmounted")),[]),(0,n.useEffect)(()=>{N("Listeners","Setting up message event listener");let e=e=>{let{data:s}=e;if(N("Message","Received message event:",s),s&&"object"==typeof s){if("startMinigame"===s.type){if(N("Minigame","Starting minigame with data:",s),s.duration&&(z(s.duration),N("Time","Setting duration to ".concat(s.duration))),s.currentState&&(N("State","Setting initial state:",s.currentState),s.currentState.temperature&&(I(s.currentState.temperature),N("Temperature","Initial temperature: ".concat(s.currentState.temperature))),s.currentState.pressure&&(R(s.currentState.pressure),N("Pressure","Initial pressure: ".concat(s.currentState.pressure)))),s.safeZones){var t,a,n,r,l,i,c,o;let e={temperature:{min:65,max:80},pressure:{min:40,max:60}};s.safeZones.Temperature?e.temperature={min:null!==(t=s.safeZones.Temperature.min)&&void 0!==t?t:j.temperature.min,max:null!==(a=s.safeZones.Temperature.max)&&void 0!==a?a:j.temperature.max}:s.safeZones.temperature&&(e.temperature={min:null!==(n=s.safeZones.temperature.min)&&void 0!==n?n:j.temperature.min,max:null!==(r=s.safeZones.temperature.max)&&void 0!==r?r:j.temperature.max}),s.safeZones.Pressure?e.pressure={min:null!==(l=s.safeZones.Pressure.min)&&void 0!==l?l:j.pressure.min,max:null!==(i=s.safeZones.Pressure.max)&&void 0!==i?i:j.pressure.max}:s.safeZones.pressure&&(e.pressure={min:null!==(c=s.safeZones.pressure.min)&&void 0!==c?c:j.pressure.min,max:null!==(o=s.safeZones.pressure.max)&&void 0!==o?o:j.pressure.max}),H(e),N("SafeZones","Setting processed safe zones:",e)}G(!0),W(!0),N("UI","UI is now visible and active")}else"closeUI"===s.type&&(N("Close","Closing UI with data:",s),!P&&s.cancelled&&Y({cancelled:!0,temperature:C,pressure:M,timeLeft:F}),W(!1),G(!1))}};return window.addEventListener("message",e),()=>{N("Listeners","Removing message event listener"),window.removeEventListener("message",e)}},[Y,C,M,F,P]),(0,n.useEffect)(()=>{let e=e=>{"Escape"===e.key&&V&&(N("Input","ESC key pressed, closing UI with current values"),Y({cancelled:!0,temperature:C,pressure:M,timeLeft:F}),W(!1),G(!1))};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}},[Y,V,C,M,F]),(0,n.useEffect)(()=>{let e=Math.min(100,Math.max(0,(C-50)*2));Z(e);let s=C>90;L(s),N("Temperature","Temperature changed to ".concat(C,"\xb0C, intensity: ").concat(e,", overheating: ").concat(s))},[C]),(0,n.useEffect)(()=>{let e=null;return D&&F>0?(N("Timer","Timer active with ".concat(F,"s remaining")),e=setInterval(()=>{z(s=>{let t=s-1;if(t<=0){var a,n,r,l,i,c,o,d;let s=null!==(i=null==_?void 0:null===(a=_.temperature)||void 0===a?void 0:a.min)&&void 0!==i?i:j.temperature.min,t=null!==(c=null==_?void 0:null===(n=_.temperature)||void 0===n?void 0:n.max)&&void 0!==c?c:j.temperature.max,m=null!==(o=null==_?void 0:null===(r=_.pressure)||void 0===r?void 0:r.min)&&void 0!==o?o:j.pressure.min,u=null!==(d=null==_?void 0:null===(l=_.pressure)||void 0===l?void 0:l.max)&&void 0!==d?d:j.pressure.max,v=M>=m&&M<=u,h=C>=s&&C<=t&&v;N("Completion","Minigame completed: success=".concat(h,", temp=").concat(C,", pressure=").concat(M,", emergency=").concat(P)),B(h,C,M,0,P),W(!1),setTimeout(()=>{G(!1),N("UI","UI hidden after completion")},1500),e&&clearInterval(e)}return(t%10==0||t<=5)&&N("Timer","Time remaining: ".concat(t,"s")),t})},1e3)):!D&&e&&N("Timer","Timer stopped"),()=>{e&&(N("Timer","Cleaning up timer"),clearInterval(e))}},[D,F,C,M,B,P,_]),V)?(N("Render","Rendering with temp=".concat(C,", pressure=").concat(M,", active=").concat(D,", time=").concat(F)),(0,a.jsxs)("main",{className:"lab-container",children:[(0,a.jsx)("div",{className:"stained-overlay"}),(0,a.jsx)("div",{className:"lab-content",children:(0,a.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,a.jsxs)("header",{className:"lab-header",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"status-indicator ".concat(A?"status-warning":"status-active")}),(0,a.jsx)("h1",{className:"lab-title",children:"CHEMICAL PROCESSING CONTROL"})]}),(0,a.jsx)("div",{className:"system-status",children:D?"TIME: ".concat((e=>{let s=Math.floor(e/60);return"".concat(s.toString().padStart(2,"0"),":").concat((e%60).toString().padStart(2,"0"))})(F)):P?"SYSTEM SHUTDOWN":"SYSTEM ACTIVE"})]}),(0,a.jsxs)("div",{className:"panel-grid",children:[(0,a.jsxs)("div",{className:"lab-panel",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h2",{className:"panel-title",children:"REACTOR TEMPERATURE"}),(0,a.jsx)(r,{value:C,isOverheating:A,isEmergency:P}),(0,a.jsxs)("div",{className:"mt-4 font-mono text-xl",children:[C,"\xb0C"]}),D&&(0,a.jsxs)("div",{className:"safe-zone-indicator",children:["SAFE: ",null!==(h=null==_?void 0:null===(e=_.temperature)||void 0===e?void 0:e.min)&&void 0!==h?h:j.temperature.min,"\xb0C - ",null!==(b=null==_?void 0:null===(s=_.temperature)||void 0===s?void 0:s.max)&&void 0!==b?b:j.temperature.max,"\xb0C"]})]}),(0,a.jsxs)("div",{className:"text-center mt-6",children:[(0,a.jsx)("h2",{className:"panel-title",children:"PRESSURE VALVE"}),(0,a.jsx)(l,{value:M,isEmergency:P}),(0,a.jsxs)("div",{className:"mt-4 font-mono text-xl",children:[M," PSI"]}),D&&(0,a.jsxs)("div",{className:"safe-zone-indicator",children:["SAFE: ",null!==(E=null==_?void 0:null===(c=_.pressure)||void 0===c?void 0:c.min)&&void 0!==E?E:j.pressure.min," - ",null!==(S=null==_?void 0:null===(o=_.pressure)||void 0===o?void 0:o.max)&&void 0!==S?S:j.pressure.max," PSI"]})]})]}),(0,a.jsxs)("div",{className:"lab-panel",children:[(0,a.jsx)("h2",{className:"panel-title",children:"REACTION MONITOR"}),(0,a.jsxs)("div",{className:"flex-1 flex flex-col items-center justify-center gap-6",children:[(0,a.jsx)(x,{intensity:O,isOverheating:A,isEmergency:P}),(0,a.jsx)(i,{isActive:A,message:"TEMPERATURE CRITICAL"}),(0,a.jsxs)("div",{className:"w-full mt-4",children:[(0,a.jsx)("div",{className:"section-title",children:"REACTION INTENSITY"}),(0,a.jsx)("div",{className:"w-full bg-zinc-700 h-4 rounded-sm overflow-hidden border border-zinc-600",children:(0,a.jsx)("div",{className:"h-full ".concat(O>80?"bg-red-500":O>60?"bg-yellow-500":"bg-green-500"," transition-all duration-500"),style:{width:"".concat(O,"%")}})})]})]})]}),(0,a.jsxs)("div",{className:"lab-panel",children:[(0,a.jsx)("h2",{className:"panel-title",children:"CONTROL PANEL"}),(0,a.jsx)(p,{temperature:C,setTemperature:I,pressure:M,setPressure:R,isEmergency:P}),(0,a.jsx)("div",{className:"mt-auto",children:(0,a.jsx)(g,{onActivate:()=>{N("Emergency","Emergency shutdown triggered"),U(!0),I(30),R(20),N("FiveM","Sending emergency completion to FiveM"),B(!1,30,20,F,!0),W(!1),setTimeout(()=>{U(!1),N("UI","Closing UI after emergency"),Y({emergency:!0,temperature:30,pressure:20,timeLeft:F}),G(!1)},3e3)}})})]})]}),(0,a.jsx)("div",{className:"status-panel",children:(0,a.jsxs)("div",{className:"status-row",children:[(0,a.jsxs)("div",{children:["STATUS: ",A?"WARNING - TEMPERATURE EXCEEDS SAFE LEVELS":"NORMAL OPERATION"]}),(0,a.jsx)("div",{className:"status-date",children:D?"".concat(C>=(null!==(w=null==_?void 0:null===(d=_.temperature)||void 0===d?void 0:d.min)&&void 0!==w?w:j.temperature.min)&&C<=(null!==(T=null==_?void 0:null===(m=_.temperature)||void 0===m?void 0:m.max)&&void 0!==T?T:j.temperature.max)?"✓":"✗"," TEMP | \n                   ").concat(M>=(null!==(y=null==_?void 0:null===(u=_.pressure)||void 0===u?void 0:u.min)&&void 0!==y?y:j.pressure.min)&&M<=(null!==(k=null==_?void 0:null===(v=_.pressure)||void 0===v?void 0:v.max)&&void 0!==k?k:j.pressure.max)?"✓":"✗"," PRESSURE"):"LAST CALIBRATION: 05/15/2025"})]})})]})})]})):null}},6786:(e,s,t)=>{Promise.resolve().then(t.bind(t,6778))}},e=>{var s=s=>e(e.s=s);e.O(0,[89,8,545,80,358],()=>s(6786)),_N_E=e.O()}]);